<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Banking Support Dashboard</title>

<!-- Bootstrap + Icons + ChartJS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<style>
:root {
  --bg: #f8f9fa;
  --text: #212529;
  --card: #fff;
  --gradient: linear-gradient(90deg,#ff7b00,#ff0080);
}
body.dark {
  --bg: #121212;
  --text: #f1f1f1;
  --card: #1e1e1e;
  --gradient: linear-gradient(90deg,#0072ff,#00c6ff);
}
body {
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  transition: all 0.3s;
  font-family: 'Inter', sans-serif;
}

/* Sidebar */
.sidebar {
  width: 250px;
  background: var(--gradient);
  color: #fff;
  position: fixed;
  height: 100vh;
  padding: 20px;
  transition: 0.3s;
}
.sidebar h2 {
  text-align: center;
  font-weight: 600;
  margin-bottom: 30px;
}
.sidebar a {
  text-decoration: none;
  color: #fff;
  opacity: 0.85;
  display: block;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  transition: 0.3s;
}
.sidebar a:hover, .sidebar a.active {
  background: rgba(255,255,255,0.15);
  opacity: 1;
}

/* Main */
.main {
  margin-left: 250px;
  padding: 25px;
  transition: 0.3s;
}
@media(max-width: 991px) {
  .sidebar { left: -250px; }
  .sidebar.active { left: 0; }
  .main { margin-left: 0; }
}

/* Topbar */
.topbar {
  background: var(--card);
  padding: 12px 20px;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.topbar button {
  border: none;
  background: none;
  color: var(--text);
  font-size: 24px;
}

/* Cards */
.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 20px;
  margin-bottom: 25px;
}
.stat-card {
  background: var(--card);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.1);
  transition: 0.3s;
}
.stat-card:hover { transform: translateY(-3px); }
.stat-card h6 { font-size: 14px; color: gray; }
.stat-card h3 { font-size: 24px; margin-top: 5px; }

/* Chart Area */
.chart-card {
  background: var(--card);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.1);
  margin-bottom: 20px;
}
.chart-card h6 { font-weight: 600; margin-bottom: 12px; }

/* Chatbot */
#chatbotBtn {
  position: fixed;
  bottom: 25px;
  right: 25px;
  background: var(--gradient);
  border: none;
  color: white;
  font-size: 26px;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  transition: 0.3s;
}
#chatbotBtn:hover { transform: scale(1.1); }

</style>
</head>

<body>
<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <h2>Banking Support</h2>
  <a href="#" class="active"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a>
  <a href="home.html"><i class="bi bi-lightbulb me-2"></i>Solutions</a>
  <a href="login.html"><i class="bi bi-box-arrow-right me-2"></i>Logout</a>
</div>

<!-- MAIN -->
<div class="main">
  <div class="topbar">
    <div class="d-flex align-items-center gap-3">
      <button id="menuBtn"><i class="bi bi-list"></i></button>
      <h4 class="m-0">Dashboard Overview</h4>
    </div>
    <div class="d-flex align-items-center gap-3">
      <select id="yearSelect" class="form-select form-select-sm">
        <option>2023</option>
        <option>2024</option>
        <option selected>2025</option>
        <option>2026</option>
        <option>2027</option>
      </select>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="modeSwitch">
        <label class="form-check-label" for="modeSwitch"></label>
      </div>
      <i class="bi bi-person-circle fs-4"></i>
    </div>
  </div>

  <!-- Stats -->
  <div class="stats">
    <div class="stat-card">
      <h6>Total Tickets</h6>
      <h3 id="totalTickets">0</h3>
    </div>
    <div class="stat-card">
      <h6>Resolved</h6>
      <h3 id="resolvedTickets">0</h3>
    </div>
    <div class="stat-card">
      <h6>Pending</h6>
      <h3 id="pendingTickets">0</h3>
    </div>
    <div class="stat-card">
      <h6>Temporary Solved</h6>
      <h3 id="activeUsers">0</h3>
    </div>
  </div>

  <!-- Charts -->
  <div class="row">
    <div class="col-lg-8">
      <div class="chart-card">
        <h6>ðŸ“Š Tickets Overview (Click Month ðŸ‘‡)</h6>
        <canvas id="ticketsChart"></canvas>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="chart-card">
        <h6>ðŸŸ¢ Yearly Summary</h6>
        <canvas id="summaryChart"></canvas>
      </div>
    </div>
  </div>

  <footer class="text-center mt-3 text-muted">
    Â© 2025 Banking Support System | All rights reserved.
  </footer>
</div>

 <!-- ðŸ’¬ Chatbot -->
 <script src='https://cdn.jotfor.ms/agent/embedjs/019a57b5b33a7439995a3da4f028ac899a67/embed.js'>
</script>

<script>
// Sidebar toggle
document.getElementById("menuBtn").onclick = () => {
  document.getElementById("sidebar").classList.toggle("active");
};

// Dark/Light mode toggle
const modeSwitch = document.getElementById("modeSwitch");
modeSwitch.addEventListener("change",()=>{
  document.body.classList.toggle("dark", modeSwitch.checked);
  localStorage.setItem("theme", modeSwitch.checked ? "dark" : "light");
});
if(localStorage.getItem("theme")==="dark"){ 
  document.body.classList.add("dark"); 
  modeSwitch.checked=true;
}

/* ðŸŽ¯ Yearly Data (All 12 Months) */
const yearlyData = {
  2023: generateRandomData(),
  2024: generateRandomData(),
  2025: generateRandomData()
};

// Random demo data generator
function generateRandomData(){
  const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
  const obj={};
  months.forEach(m=>{
    obj[m]={total:rand(100,200),resolved:rand(70,150),pending:rand(5,30),active:rand(10,40)};
  });
  return obj;
}
function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

let barChart=null;
let summaryChart=null;

// Bar chart render
function renderBar(year){
  if(barChart) barChart.destroy();
  const months=Object.keys(yearlyData[year]);
  const totals=months.map(m=>yearlyData[year][m].total);
  barChart=new Chart(document.getElementById("ticketsChart"),{
    type:"bar",
    data:{labels:months,datasets:[{label:"Tickets",data:totals,backgroundColor:"#ff7b00"}]},
    options:{
      responsive:true,
      plugins:{legend:{display:false}},
      scales:{y:{beginAtZero:true}},
      onClick:(evt,els)=>{
        if(els.length>0){
          const i=els[0].index;
          const month=months[i];
          updateCards(year,month);
        }
      }
    }
  });
}

// Circle (summary) chart render
function renderSummary(year){
  if(summaryChart) summaryChart.destroy();
  const data=Object.values(yearlyData[year]);
  const totalResolved=data.reduce((a,b)=>a+b.resolved,0);
  const totalPending=data.reduce((a,b)=>a+b.pending,0);
  const totalActive=data.reduce((a,b)=>a+b.active,0);
  summaryChart=new Chart(document.getElementById("summaryChart"),{
    type:"doughnut",
    data:{
      labels:["Resolved","Pending","Active Users"],
      datasets:[{data:[totalResolved,totalPending,totalActive],
      backgroundColor:["#00c6ff","#ff7b00","#ff0080"]}]
    },
    options:{responsive:true,plugins:{legend:{position:"bottom"}}}
  });
}

// Update cards when month clicked
function updateCards(year,month){
  const d=yearlyData[year][month];
  document.getElementById("totalTickets").textContent=d.total;
  document.getElementById("resolvedTickets").textContent=d.resolved;
  document.getElementById("pendingTickets").textContent=d.pending;
  document.getElementById("activeUsers").textContent=d.active;
  document.querySelectorAll(".stat-card").forEach(c=>{
    c.style.transform="scale(1.05)";
    setTimeout(()=>c.style.transform="scale(1)",200);
  });
}

// Year change
const yearSelect=document.getElementById("yearSelect");
yearSelect.addEventListener("change",()=>{
  const y=yearSelect.value;
  renderBar(y);
  renderSummary(y);
  const first=Object.keys(yearlyData[y])[0];
  updateCards(y,first);
});

// Initial load
const def=yearSelect.value;
renderBar(def);
renderSummary(def);
updateCards(def,"Jan");
</script>
</body>
</html>
